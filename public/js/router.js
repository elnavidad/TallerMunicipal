!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.RSVP={})}(this,function(e){"use strict";function t(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t}function n(e,t){if(2!==arguments.length)return fe[e];fe[e]=t}function r(){setTimeout(function(){for(var e=0;e<de.length;e++){var t=de[e],n=t.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),fe.trigger(t.name,t.payload)}de.length=0},50)}function i(e,t,n){1===de.push({name:e,payload:{key:t._guidKey,id:t._id,eventName:e,detail:t._result,childId:n&&n._id,label:t._label,timeStamp:Date.now(),error:fe["instrument-with-stack"]?new Error(t._label):null}})&&r()}function o(e,t){var n=this;if(e&&"object"==typeof e&&e.constructor===n)return e;var r=new n(l,t);return v(r,e),r}function s(){return new TypeError("A promises callback cannot return that same promise.")}function a(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function l(){}function u(e){try{return e.then}catch(e){return ge.error=e,ge}}function h(){try{var e=ye;return ye=null,e.apply(this,arguments)}catch(e){return ge.error=e,ge}}function c(e){return ye=e,h}function f(e,t,n){fe.async(function(e){var r=!1,i=c(n).call(t,function(n){r||(r=!0,t===n?g(e,n):v(e,n))},function(t){r||(r=!0,y(e,t))},"Settle: "+(e._label||" unknown promise"));if(!r&&i===ge){r=!0;var o=ge.error;ge.error=null,y(e,o)}},e)}function d(e,t){t._state===ve?g(e,t._result):t._state===me?(t._onError=null,y(e,t._result)):w(t,void 0,function(n){t===n?g(e,n):v(e,n)},function(t){return y(e,t)})}function p(e,t,n){if(t.constructor===e.constructor&&n===x&&e.constructor.resolve===o)d(e,t);else if(n===ge){var r=ge.error;ge.error=null,y(e,r)}else"function"==typeof n?f(e,t,n):g(e,t)}function v(e,t){e===t?g(e,t):a(t)?p(e,t,u(t)):g(e,t)}function m(e){e._onError&&e._onError(e._result),b(e)}function g(e,t){e._state===pe&&(e._result=t,e._state=ve,0===e._subscribers.length?fe.instrument&&i("fulfilled",e):fe.async(b,e))}function y(e,t){e._state===pe&&(e._state=me,e._result=t,fe.async(m,e))}function w(e,t,n,r){var i=e._subscribers,o=i.length;e._onError=null,i[o]=t,i[o+ve]=n,i[o+me]=r,0===o&&e._state&&fe.async(b,e)}function b(e){var t=e._subscribers,n=e._state;if(fe.instrument&&i(n===ve?"fulfilled":"rejected",e),0!==t.length){for(var r=void 0,o=void 0,s=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?_(n,r,o,s):o(s);e._subscribers.length=0}}function _(e,t,n,r){var i="function"==typeof n,o=void 0;if(o=i?c(n)(r):r,t._state!==pe);else if(o===t)y(t,s());else if(o===ge){var a=ge.error;ge.error=null,y(t,a)}else i?v(t,o):e===ve?g(t,o):e===me&&y(t,o)}function P(e,t){var n=!1;try{t(function(t){n||(n=!0,v(e,t))},function(t){n||(n=!0,y(e,t))})}catch(t){y(e,t)}}function x(e,t,n){var r=this,o=r._state;if(o===ve&&!e||o===me&&!t)return fe.instrument&&i("chained",r,r),r;r._onError=null;var s=new r.constructor(l,n),a=r._result;if(fe.instrument&&i("chained",r,s),o===pe)w(r,s,e,t);else{var u=o===ve?e:t;fe.async(function(){return _(o,s,u,a)})}return s}function A(e,t,n){this._remaining--,this._result[t]=e===ve?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function E(e,t){return Array.isArray(e)?new we(this,e,!0,t).promise:this.reject(new TypeError("Promise.all must be called with an array"),t)}function S(e,t){var n=this,r=new n(l,t);if(!Array.isArray(e))return y(r,new TypeError("Promise.race must be called with an array")),r;for(var i=0;r._state===pe&&i<e.length;i++)w(n.resolve(e[i]),void 0,function(e){return v(r,e)},function(e){return y(r,e)});return r}function T(e,t){var n=this,r=new n(l,t);return y(r,e),r}function O(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function I(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(e,t){for(var n={},r=e.length,i=new Array(r),o=0;o<r;o++)i[o]=e[o];for(var s=0;s<t.length;s++){n[t[s]]=i[s+1]}return n}function C(e){for(var t=e.length,n=new Array(t-1),r=1;r<t;r++)n[r-1]=e[r];return n}function j(e,t){return{then:function(n,r){return e.call(t,n,r)}}}function H(e,t){var n=function(){for(var n=arguments.length,r=new Array(n+1),i=!1,o=0;o<n;++o){var s=arguments[o];if(!i){if((i=z(s))===ge){var a=ge.error;ge.error=null;var u=new Pe(l);return y(u,a),u}i&&!0!==i&&(s=j(i,s))}r[o]=s}var h=new Pe(l);return r[n]=function(e,n){e?y(h,e):void 0===t?v(h,n):!0===t?v(h,C(arguments)):Array.isArray(t)?v(h,R(arguments,t)):v(h,n)},i?k(h,r,e,this):L(h,r,e,this)};return n.__proto__=e,n}function L(e,t,n,r){if(c(n).apply(r,t)===ge){var i=ge.error;ge.error=null,y(e,i)}return e}function k(e,t,n,r){return Pe.all(t).then(function(t){return L(e,t,n,r)})}function z(e){return null!==e&&"object"==typeof e&&(e.constructor===Pe||u(e))}function U(e,t){return Pe.all(e,t)}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function N(e,t){return Array.isArray(e)?new xe(Pe,e,t).promise:Pe.reject(new TypeError("Promise.allSettled must be called with an array"),t)}function D(e,t){return Pe.race(e,t)}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function $(e,t){return null===e||"object"!=typeof e?Pe.reject(new TypeError("Promise.hash must be called with an object"),t):new Ee(Pe,e,t).promise}function Q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function W(e,t){return null===e||"object"!=typeof e?Pe.reject(new TypeError("RSVP.hashSettled must be called with an object"),t):new Se(Pe,e,!1,t).promise}function Y(e){throw setTimeout(function(){throw e}),e}function G(e){var t={resolve:void 0,reject:void 0};return t.promise=new Pe(function(e,n){t.resolve=e,t.reject=n},e),t}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function X(e,t,n){return Array.isArray(e)?"function"!=typeof t?Pe.reject(new TypeError("RSVP.map expects a function as a second argument"),n):new Te(Pe,e,t,n).promise:Pe.reject(new TypeError("RSVP.map must be called with an array"),n)}function Z(e,t){return Pe.resolve(e,t)}function ee(e,t){return Pe.reject(e,t)}function te(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function re(e,t,n){return"function"!=typeof t?Pe.reject(new TypeError("RSVP.filter expects function as a second argument"),n):Pe.resolve(e,n).then(function(e){if(!Array.isArray(e))throw new TypeError("RSVP.filter must be called with an array");return new Ie(Pe,e,t,n).promise})}function ie(e,t){Ue[Re]=e,Ue[Re+1]=t,2===(Re+=2)&&qe()}function oe(){return void 0!==Ce?function(){Ce(ae)}:se()}function se(){return function(){return setTimeout(ae,1)}}function ae(){for(var e=0;e<Re;e+=2){(0,Ue[e])(Ue[e+1]),Ue[e]=void 0,Ue[e+1]=void 0}Re=0}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(){fe.on.apply(fe,arguments)}function he(){fe.off.apply(fe,arguments)}var ce={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e},on:function(e,n){if("function"!=typeof n)throw new TypeError("Callback must be a function");var r=t(this),i=void 0;i=r[e],i||(i=r[e]=[]),i.indexOf(n)&&i.push(n)},off:function(e,n){var r=t(this),i=void 0,o=void 0;n?(i=r[e],-1!==(o=i.indexOf(n))&&i.splice(o,1)):r[e]=[]},trigger:function(e,n,r){var i=t(this),o=void 0;if(o=i[e])for(var s=0;s<o.length;s++)(0,o[s])(n,r)}},fe={instrument:!1};ce.mixin(fe);var de=[],pe=void 0,ve=1,me=2,ge={error:null},ye=void 0,we=function(){function e(e,t,n,r){this._instanceConstructor=e,this.promise=new e(l,r),this._abortOnReject=n,this._isUsingOwnPromise=e===Pe,this._isUsingOwnResolve=e.resolve===o,this._init.apply(this,arguments)}return e.prototype._init=function(e,t){var n=t.length||0;this.length=n,this._remaining=n,this._result=new Array(n),this._enumerate(t)},e.prototype._enumerate=function(e){for(var t=this.length,n=this.promise,r=0;n._state===pe&&r<t;r++)this._eachEntry(e[r],r,!0);this._checkFullfillment()},e.prototype._checkFullfillment=function(){0===this._remaining&&g(this.promise,this._result)},e.prototype._settleMaybeThenable=function(e,t,n){var r=this._instanceConstructor;if(this._isUsingOwnResolve){var i=u(e);if(i===x&&e._state!==pe)e._onError=null,this._settledAt(e._state,t,e._result,n);else if("function"!=typeof i)this._settledAt(ve,t,e,n);else if(this._isUsingOwnPromise){var o=new r(l);p(o,e,i),this._willSettleAt(o,t,n)}else this._willSettleAt(new r(function(t){return t(e)}),t,n)}else this._willSettleAt(r.resolve(e),t,n)},e.prototype._eachEntry=function(e,t,n){null!==e&&"object"==typeof e?this._settleMaybeThenable(e,t,n):this._setResultAt(ve,t,e,n)},e.prototype._settledAt=function(e,t,n,r){var i=this.promise;i._state===pe&&(this._abortOnReject&&e===me?y(i,n):(this._setResultAt(e,t,n,r),this._checkFullfillment()))},e.prototype._setResultAt=function(e,t,n,r){this._remaining--,this._result[t]=n},e.prototype._willSettleAt=function(e,t,n){var r=this;w(e,void 0,function(e){return r._settledAt(ve,t,e,n)},function(e){return r._settledAt(me,t,e,n)})},e}(),be="rsvp_"+Date.now()+"-",_e=0,Pe=function(){function e(t,n){this._id=_e++,this._label=n,this._state=void 0,this._result=void 0,this._subscribers=[],fe.instrument&&i("created",this),l!==t&&("function"!=typeof t&&O(),this instanceof e?P(this,t):I())}return e.prototype._onError=function(e){var t=this;fe.after(function(){t._onError&&fe.trigger("error",e,t._label)})},e.prototype.catch=function(e,t){return this.then(void 0,e,t)},e.prototype.finally=function(e,t){var n=this,r=n.constructor;return n.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})},t)},e}();Pe.all=E,Pe.race=S,Pe.resolve=o,Pe.reject=T,Pe.prototype._guidKey=be,Pe.prototype.then=x;var xe=function(e){function t(t,n,r){return q(this,e.call(this,t,n,!1,r))}return M(t,e),t}(we);xe.prototype._setResultAt=A;var Ae=Object.prototype.hasOwnProperty,Ee=function(e){function t(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments[3];return B(this,e.call(this,t,n,r,i))}return F(t,e),t.prototype._init=function(e,t){this._result={},this._enumerate(t),0===this._remaining&&g(this.promise,this._result)},t.prototype._enumerate=function(e){var t=this.promise,n=[];for(var r in e)Ae.call(e,r)&&n.push({position:r,entry:e[r]});var i=n.length;this._remaining=i;for(var o=void 0,s=0;t._state===pe&&s<i;s++)o=n[s],this._eachEntry(o.entry,o.position)},t}(we),Se=function(e){function t(t,n,r){return Q(this,e.call(this,t,n,!1,r))}return V(t,e),t}(Ee);Se.prototype._setResultAt=A;var Te=function(e){function t(t,n,r,i){return K(this,e.call(this,t,n,!0,i,r))}return J(t,e),t.prototype._init=function(e,t,n,r,i){var o=t.length||0;this.length=o,this._remaining=o,this._result=new Array(o),this._mapFn=i,this._enumerate(t)},t.prototype._setResultAt=function(e,t,n,r){if(r){var i=c(this._mapFn)(n,t);i===ge?this._settledAt(me,t,i.error,!1):this._eachEntry(i,t,!1)}else this._remaining--,this._result[t]=n},t}(we),Oe={},Ie=function(e){function t(t,n,r,i){return te(this,e.call(this,t,n,!0,i,r))}return ne(t,e),t.prototype._init=function(e,t,n,r,i){var o=t.length||0;this.length=o,this._remaining=o,this._result=new Array(o),this._filterFn=i,this._enumerate(t)},t.prototype._checkFullfillment=function(){0===this._remaining&&(this._result=this._result.filter(function(e){return e!==Oe}),g(this.promise,this._result))},t.prototype._setResultAt=function(e,t,n,r){if(r){this._result[t]=n;var i=c(this._filterFn)(n,t);i===ge?this._settledAt(me,t,i.error,!1):this._eachEntry(i,t,!1)}else this._remaining--,n||(this._result[t]=Oe)},t}(we),Re=0,Ce=void 0,je="undefined"!=typeof window?window:void 0,He=je||{},Le=He.MutationObserver||He.WebKitMutationObserver,ke="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),ze="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Ue=new Array(1e3),qe=void 0;qe=ke?function(){var e=process.nextTick,t=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),function(){return e(ae)}}():Le?function(){var e=0,t=new Le(ae),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){return n.data=e=++e%2}}():ze?function(){var e=new MessageChannel;return e.port1.onmessage=ae,function(){return e.port2.postMessage(0)}}():void 0===je&&"function"==typeof require?function(){try{var e=require,t=e("vertx");return Ce=t.runOnLoop||t.runOnContext,oe()}catch(e){return se()}}():se();var Me;fe.async=ie,fe.after=function(e){return setTimeout(e,0)};var Ne=function(e,t){return fe.async(e,t)};if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var De=window.__PROMISE_INSTRUMENTATION__;n("instrument",!0);for(var Be in De)De.hasOwnProperty(Be)&&ue(Be,De[Be])}var Fe=(Me={asap:ie,Promise:Pe,EventTarget:ce,all:U,allSettled:N,race:D,hash:$,hashSettled:W,rethrow:Y,defer:G,denodeify:H,configure:n,on:ue,off:he,resolve:Z,reject:ee,map:X},le(Me,"async",Ne),le(Me,"filter",re),Me);e.default=Fe,e.asap=ie,e.Promise=Pe,e.EventTarget=ce,e.all=U,e.allSettled=N,e.race=D,e.hash=$,e.hashSettled=W,e.rethrow=Y,e.defer=G,e.denodeify=H,e.configure=n,e.on=ue,e.off=he,e.resolve=Z,e.reject=ee,e.map=X,e.async=Ne,e.filter=re,Object.defineProperty(e,"__esModule",{value:!0})}),function(e){function t(e,t,n,r,i){this._listener=t,this._isOnce=n,this.context=r,this._signal=e,this._priority=i||0}function n(e,t){if("function"!=typeof e)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function r(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){r.prototype.dispatch.apply(e,arguments)}}t.prototype={active:!0,params:null,execute:function(e){var t;return this.active&&this._listener&&(e=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,e),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},r.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,n,r,i){var o=this._indexOfListener(e,r);if(-1!==o){if(e=this._bindings[o],e.isOnce()!==n)throw Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else e=new t(this,e,n,r,i),this._addBinding(e);return this.memorize&&this._prevParams&&e.execute(this._prevParams),e},_addBinding:function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,r=this._bindings.length;r--;)if(n=this._bindings[r],n._listener===e&&n.context===t)return r;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,r){return n(e,"add"),this._registerListener(e,!1,t,r)},addOnce:function(e,t,r){return n(e,"addOnce"),this._registerListener(e,!0,t,r)},remove:function(e,t){n(e,"remove");var r=this._indexOfListener(e,t);return-1!==r&&(this._bindings[r]._destroy(),this._bindings.splice(r,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,n=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=n),r){t=this._bindings.slice(),this._shouldPropagate=!0;do{r--}while(t[r]&&this._shouldPropagate&&!1!==t[r].execute(n))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var i=r;i.Signal=r,"function"==typeof define&&define.amd?define(function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:e.signals=i}(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("route-recognizer",t):e.RouteRecognizer=t()}(this,function(){"use strict";function e(){var e=v(null);return e.__=void 0,delete e.__,e}function t(e,n,r){function i(i,o){var s=e+i;if(!o)return new m(s,n,r);o(t(s,n,r))}return i}function n(e,t,n){for(var r=0,i=0;i<e.length;i++)r+=e[i].path.length;t=t.substr(r);var o={path:t,handler:n};e.push(o)}function r(e,t,i,o){for(var s=t.routes,a=Object.keys(s),l=0;l<a.length;l++){var u=a[l],h=e.slice();n(h,u,s[u]);var c=t.children[u];c?r(h,c,i,o):i.call(o,h)}}function i(e){return e.split("/").map(o).join("/")}function o(e){return e.length<3||-1===e.indexOf("%")?e:decodeURIComponent(e).replace(w,encodeURIComponent)}function s(e){return encodeURIComponent(e).replace(b,decodeURIComponent)}function a(e,t){if("object"!=typeof e||null===e)throw new Error("You must pass an object as the second argument to `generate`.");if(!x.call(e,t))throw new Error("You must provide param `"+t+"` to `generate`.");var n=e[t],r="string"==typeof n?n:""+n;if(0===r.length)throw new Error("You must provide a param `"+t+"`.");return r}function l(e,t,n){t.length>0&&47===t.charCodeAt(0)&&(t=t.substr(1));for(var r=t.split("/"),i=void 0,s=void 0,a=0;a<r.length;a++){var l=r[a],u=0,h=0;h=""===l?4:58===l.charCodeAt(0)?1:42===l.charCodeAt(0)?2:0,u=2<<h,12&u&&(l=l.slice(1),i=i||[],i.push(l),s=s||[],s.push(0!=(4&u))),14&u&&n[h]++,e.push({type:h,value:o(l)})}return{names:i||O,shouldDecodes:s||O}}function u(e,t,n){return e.char===t&&e.negate===n}function h(e,t){return e.negate?e.char!==t&&-1!==e.char:e.char===t||-1===e.char}function c(e){return e.sort(function(e,t){var n=e.types||[0,0,0],r=n[0],i=n[1],o=n[2],s=t.types||[0,0,0],a=s[0],l=s[1],u=s[2];if(o!==u)return o-u;if(o){if(r!==a)return a-r;if(i!==l)return l-i}return i!==l?i-l:r!==a?a-r:0})}function f(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n=n.concat(o.match(t))}return n}function d(e,t,n){var r=e.handlers,i=e.regex();if(!i||!r)throw new Error("state not initialized");var o=t.match(i),s=1,a=new R(n);a.length=r.length;for(var l=0;l<r.length;l++){var u=r[l],h=u.names,c=u.shouldDecodes,f=T,d=!1;if(h!==O&&c!==O)for(var p=0;p<h.length;p++){d=!0;var v=h[p],m=o&&o[s++];f===T&&(f={}),C.ENCODE_AND_DECODE_PATH_SEGMENTS&&c[p]?f[v]=m&&decodeURIComponent(m):f[v]=m}a[l]={handler:u.handler,params:f,isDynamic:d}}return a}function p(e){e=e.replace(/\+/gm,"%20");var t;try{t=decodeURIComponent(e)}catch(e){t=""}return t}var v=Object.create,m=function(e,t,n){this.path=e,this.matcher=t,this.delegate=n};m.prototype.to=function(e,t){var n=this.delegate;if(n&&n.willAddRoute&&(e=n.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}};var g=function(t){this.routes=e(),this.children=e(),this.target=t};g.prototype.add=function(e,t){this.routes[e]=t},g.prototype.addChild=function(e,n,r,i){var o=new g(n);this.children[e]=o;var s=t(e,o,i);i&&i.contextEntered&&i.contextEntered(n,s),r(s)};var y=function(e,n){var i=new g;e(t("",i,this.delegate)),r([],i,function(e){n?n(this,e):this.add(e)},this)},w=/%|\//g,b=/%(?:2(?:4|6|B|C)|3(?:B|D|A)|40)/g,_=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,P=Array.isArray,x=Object.prototype.hasOwnProperty,A=[];A[0]=function(e,t){for(var n=t,r=e.value,i=0;i<r.length;i++){var o=r.charCodeAt(i);n=n.put(o,!1,!1)}return n},A[1]=function(e,t){return t.put(47,!0,!0)},A[2]=function(e,t){return t.put(-1,!1,!0)},A[4]=function(e,t){return t};var E=[];E[0]=function(e){return e.value.replace(_,"\\$1")},E[1]=function(){return"([^/]+)"},E[2]=function(){return"(.+)"},E[4]=function(){return""};var S=[];S[0]=function(e){return e.value},S[1]=function(e,t){var n=a(t,e.value);return C.ENCODE_AND_DECODE_PATH_SEGMENTS?s(n):n},S[2]=function(e,t){return a(t,e.value)},S[4]=function(){return""};var T=Object.freeze({}),O=Object.freeze([]),I=function(e,t,n,r,i){this.states=e,this.id=t,this.char=n,this.negate=r,this.nextStates=i?t:null,this.pattern="",this._regex=void 0,this.handlers=void 0,this.types=void 0};I.prototype.regex=function(){return this._regex||(this._regex=new RegExp(this.pattern)),this._regex},I.prototype.get=function(e,t){var n=this,r=this.nextStates;if(null!==r)if(P(r))for(var i=0;i<r.length;i++){var o=n.states[r[i]];if(u(o,e,t))return o}else{var s=this.states[r];if(u(s,e,t))return s}},I.prototype.put=function(e,t,n){var r;if(r=this.get(e,t))return r;var i=this.states;return r=new I(i,i.length,e,t,n),i[i.length]=r,null==this.nextStates?this.nextStates=r.id:P(this.nextStates)?this.nextStates.push(r.id):this.nextStates=[this.nextStates,r.id],r},I.prototype.match=function(e){var t=this,n=this.nextStates;if(!n)return[];var r=[];if(P(n))for(var i=0;i<n.length;i++){var o=t.states[n[i]];h(o,e)&&r.push(o)}else{var s=this.states[n];h(s,e)&&r.push(s)}return r};var R=function(e){this.length=0,this.queryParams=e||{}};R.prototype.splice=Array.prototype.splice,R.prototype.slice=Array.prototype.slice,R.prototype.push=Array.prototype.push;var C=function(){this.names=e();var t=[],n=new I(t,0,-1,!0,!1);t[0]=n,this.states=t,this.rootState=n};return C.prototype.add=function(e,t){for(var n=this.rootState,r="^",i=[0,0,0],o=new Array(e.length),s=[],a=!0,u=0,h=0;h<e.length;h++){for(var c=e[h],f=l(s,c.path,i),d=f.names,p=f.shouldDecodes;u<s.length;u++){var v=s[u];4!==v.type&&(a=!1,n=n.put(47,!1,!1),r+="/",n=A[v.type](v,n),r+=E[v.type](v))}o[h]={handler:c.handler,names:d,shouldDecodes:p}}a&&(n=n.put(47,!1,!1),r+="/"),n.handlers=o,n.pattern=r+"$",n.types=i;var m;"object"==typeof t&&null!==t&&t.as&&(m=t.as),m&&(this.names[m]={segments:s,handlers:o})},C.prototype.handlersFor=function(e){var t=this.names[e];if(!t)throw new Error("There is no route named "+e);for(var n=new Array(t.handlers.length),r=0;r<t.handlers.length;r++){var i=t.handlers[r];n[r]=i}return n},C.prototype.hasRoute=function(e){return!!this.names[e]},C.prototype.generate=function(e,t){var n=this.names[e],r="";if(!n)throw new Error("There is no route named "+e);for(var i=n.segments,o=0;o<i.length;o++){var s=i[o];4!==s.type&&(r+="/",r+=S[s.type](s,t))}return"/"!==r.charAt(0)&&(r="/"+r),t&&t.queryParams&&(r+=this.generateQueryString(t.queryParams)),r},C.prototype.generateQueryString=function(e){var t=[],n=Object.keys(e);n.sort();for(var r=0;r<n.length;r++){var i=n[r],o=e[i];if(null!=o){var s=encodeURIComponent(i);if(P(o))for(var a=0;a<o.length;a++){var l=i+"[]="+encodeURIComponent(o[a]);t.push(l)}else s+="="+encodeURIComponent(o),t.push(s)}}return 0===t.length?"":"?"+t.join("&")},C.prototype.parseQueryString=function(e){for(var t=e.split("&"),n={},r=0;r<t.length;r++){var i=t[r].split("="),o=p(i[0]),s=o.length,a=!1,l=void 0;1===i.length?l="true":(s>2&&"[]"===o.slice(s-2)&&(a=!0,o=o.slice(0,s-2),n[o]||(n[o]=[])),l=i[1]?p(i[1]):""),a?n[o].push(l):n[o]=l}return n},C.prototype.recognize=function(e){var t,n=[this.rootState],r={},o=!1,s=e.indexOf("#");-1!==s&&(e=e.substr(0,s));var a=e.indexOf("?");if(-1!==a){var l=e.substr(a+1,e.length);e=e.substr(0,a),r=this.parseQueryString(l)}"/"!==e.charAt(0)&&(e="/"+e);var u=e;C.ENCODE_AND_DECODE_PATH_SEGMENTS?e=i(e):(e=decodeURI(e),u=decodeURI(u));var h=e.length;h>1&&"/"===e.charAt(h-1)&&(e=e.substr(0,h-1),u=u.substr(0,u.length-1),o=!0);for(var p=0;p<e.length&&(n=f(n,e.charCodeAt(p)),n.length);p++);for(var v=[],m=0;m<n.length;m++)n[m].handlers&&v.push(n[m]);n=c(v);var g=v[0];return g&&g.handlers&&(o&&g.pattern&&"(.+)$"===g.pattern.slice(-5)&&(u+="/"),t=d(g,u,r)),t},C.VERSION="0.3.4",C.ENCODE_AND_DECODE_PATH_SEGMENTS=!0,C.Normalizer={normalizeSegment:o,normalizePath:i,encodePathSegment:s},C.prototype.map=y,C}),function(e,t,n){var r,i,o,s;!function(){var e={},t={};r=function(t,n,r){e[t]={deps:n,callback:r}},s=o=i=function(n){if(t[n])return t[n];if(t[n]={},!e[n])throw new Error("Could not find module "+n);for(var r,o=e[n],s=o.deps,a=o.callback,l=[],u=0,h=s.length;u<h;u++)"exports"===s[u]?l.push(r={}):l.push(i(function(e){if("."!==e.charAt(0))return e;for(var t=e.split("/"),r=n.split("/").slice(0,-1),i=0,o=t.length;i<o;i++){var s=t[i];if(".."===s)r.pop();else{if("."===s)continue;r.push(s)}}return r.join("/")}(s[u])));var c=a.apply(this,l);return t[n]=r||c}}(),r("router/handler-info",["./utils","rsvp","exports"],function(e,t,n){"use strict";function r(e){var t=e||{};if(this._handler=c,t.handler){var n=t.name;this.handlerPromise=h.resolve(t.handler),u(t.handler)?(this.handlerPromise=this.handlerPromise.then(o(this,this.updateHandler)),t.handler=void 0):t.handler&&(t.handler._handlerName=n)}s(this,t),this.initialize(t)}function i(e,t){if(!e^!t)return!1;if(!e)return!0;for(var n in e)if(e.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0}var o=e.bind,s=e.merge,a=e.promiseLabel,l=e.applyHook,u=e.isPromise,h=t.Promise,c=Object.freeze({});r.prototype={name:null,getHandler:function(){},fetchHandler:function(){var e=this.getHandler(this.name);if(this.handlerPromise=h.resolve(e),u(e))this.handlerPromise=this.handlerPromise.then(o(this,this.updateHandler));else if(e)return e._handlerName=this.name,this.handler=e;return this.handler=void 0},_handlerPromise:void 0,params:null,context:null,factory:null,initialize:function(){},log:function(e,t){e.log&&e.log(this.name+": "+t)},promiseLabel:function(e){return a("'"+this.name+"' "+e)},getUnresolved:function(){return this},serialize:function(){return this.params||{}},updateHandler:function(e){return e._handlerName=this.name,this.handler=e},resolve:function(e,t){var n=o(this,this.checkForAbort,e),r=o(this,this.runBeforeModelHook,t),i=o(this,this.getModel,t),s=o(this,this.runAfterModelHook,t),a=o(this,this.becomeResolved,t),l=this;return h.resolve(this.handlerPromise,this.promiseLabel("Start handler")).then(function(e){return h.resolve(e).then(n,null,l.promiseLabel("Check for abort")).then(r,null,l.promiseLabel("Before model")).then(n,null,l.promiseLabel("Check if aborted during 'beforeModel' hook")).then(i,null,l.promiseLabel("Model")).then(n,null,l.promiseLabel("Check if aborted in 'model' hook")).then(s,null,l.promiseLabel("After model")).then(n,null,l.promiseLabel("Check if aborted in 'afterModel' hook")).then(a,null,l.promiseLabel("Become resolved"))},function(e){throw e})},runBeforeModelHook:function(e){return e.trigger&&e.trigger(!0,"willResolveModel",e,this.handler),this.runSharedModelHook(e,"beforeModel",[])},runAfterModelHook:function(e,t){var n=this.name;return this.stashResolvedModel(e,t),this.runSharedModelHook(e,"afterModel",[t]).then(function(){return e.resolvedModels[n]},null,this.promiseLabel("Ignore fulfillment value and return model value"))},runSharedModelHook:function(e,t,n){this.log(e,"calling "+t+" hook"),this.queryParams&&n.push(this.queryParams),n.push(e);var r=l(this.handler,t,n);return r&&r.isTransition&&(r=null),h.resolve(r,this.promiseLabel("Resolve value returned from one of the model hooks"))},getModel:null,checkForAbort:function(e,t){return h.resolve(e(),this.promiseLabel("Check for abort")).then(function(){return t},null,this.promiseLabel("Ignore fulfillment value and continue"))},stashResolvedModel:function(e,t){e.resolvedModels=e.resolvedModels||{},e.resolvedModels[this.name]=t},becomeResolved:function(e,t){var n=this.serialize(t);return e&&(this.stashResolvedModel(e,t),e.params=e.params||{},e.params[this.name]=n),this.factory("resolved",{context:t,name:this.name,handler:this.handler,params:n})},shouldSupercede:function(e){if(!e)return!0;var t=e.context===this.context;return e.name!==this.name||this.hasOwnProperty("context")&&!t||this.hasOwnProperty("params")&&!i(this.params,e.params)}},Object.defineProperty(r.prototype,"handler",{get:function(){return this._handler!==c?this._handler:this.fetchHandler()},set:function(e){return this._handler=e}}),Object.defineProperty(r.prototype,"handlerPromise",{get:function(){return this._handlerPromise?this._handlerPromise:(this.fetchHandler(),this._handlerPromise)},set:function(e){return this._handlerPromise=e}}),n.default=r}),r("router/handler-info/factory",["./resolved-handler-info","./unresolved-handler-info-by-object","./unresolved-handler-info-by-param","exports"],function(e,t,n,r){"use strict";function i(e,t){var n=i.klasses[e],r=new n(t||{});return r.factory=i,r}var o=e.default,s=t.default,a=n.default;i.klasses={resolved:o,param:a,object:s},r.default=i}),r("router/handler-info/resolved-handler-info",["../handler-info","../utils","rsvp","exports"],function(e,t,n,r){"use strict";var i=e.default,o=t.subclass,s=n.Promise,a=o(i,{resolve:function(e,t){return t&&t.resolvedModels&&(t.resolvedModels[this.name]=this.context),s.resolve(this,this.promiseLabel("Resolve"))},getUnresolved:function(){return this.factory("param",{name:this.name,handler:this.handler,params:this.params})},isResolved:!0});r.default=a}),r("router/handler-info/unresolved-handler-info-by-object",["../handler-info","../utils","rsvp","exports"],function(e,t,n,r){"use strict";var i=e.default,o=t.subclass,s=t.isParam,a=n.Promise,l=o(i,{getModel:function(e){return this.log(e,this.name+": resolving provided model"),a.resolve(this.context)},initialize:function(e){this.names=e.names||[],this.context=e.context},serialize:function(e){var t=e||this.context,n=this.names,r=this.serializer||this.handler&&this.handler.serialize,i={};if(s(t))return i[n[0]]=t,i;if(r)return r(t,n);if(1===n.length){var o=n[0];return/_id$/.test(o)?i[o]=t.id:i[o]=t,i}}})
;r.default=l}),r("router/handler-info/unresolved-handler-info-by-param",["../handler-info","../utils","exports"],function(e,t,n){"use strict";var r=e.default,i=t.resolveHook,o=t.merge,s=t.subclass,a=s(r,{initialize:function(e){this.params=e.params||{}},getModel:function(e){var t=this.params;e&&e.queryParams&&(t={},o(t,this.params),t.queryParams=e.queryParams);var n=this.handler,r=i(n,"deserialize")||i(n,"model");return this.runSharedModelHook(e,r,[t])}});n.default=a}),r("router/router",["route-recognizer","rsvp","./utils","./transition-state","./transition","./transition-aborted-error","./transition-intent/named-transition-intent","./transition-intent/url-transition-intent","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";function u(e){var t=e||{};this.getHandler=t.getHandler||this.getHandler,this.getSerializer=t.getSerializer||this.getSerializer,this.updateURL=t.updateURL||this.updateURL,this.replaceURL=t.replaceURL||this.replaceURL,this.didTransition=t.didTransition||this.didTransition,this.willTransition=t.willTransition||this.willTransition,this.delegate=t.delegate||this.delegate,this.triggerEvent=t.triggerEvent||this.triggerEvent,this.log=t.log||this.log,this.dslCallBacks=[],this.state=void 0,this.activeTransition=void 0,this._changedQueryParams=void 0,this.oldState=void 0,this.currentHandlerInfos=void 0,this.state=void 0,this.currentSequence=0,this.recognizer=new x,this.reset()}function h(e,t){var n,r=!!this.activeTransition,i=r?this.activeTransition.state:this.state,o=e.applyToState(i,this.recognizer,this.getHandler,t,this.getSerializer),s=C(i.queryParams,o.queryParams);return y(o.handlerInfos,i.handlerInfos)?s&&(n=this.queryParamsTransition(s,r,i,o))?(n.queryParamsOnly=!0,n):this.activeTransition||new z(this):t?void f(this,o):(n=new z(this,e,o,void 0,this.activeTransition),w(o.handlerInfos,i.handlerInfos)&&(n.queryParamsOnly=!0),this.activeTransition&&this.activeTransition.abort(),this.activeTransition=n,n.promise=n.promise.then(function(e){return m(n,e.state)},null,j("Settle transition promise when transition is finalized")),r||P(this,o,n),c(this,o,s),n)}function c(e,t,n){n&&(e._changedQueryParams=n.all,E(e,t.handlerInfos,!0,["queryParamsDidChange",n.changed,n.all,n.removed]),e._changedQueryParams=null)}function f(e,t,n){var r,i,o,s=p(e.state,t);for(r=0,i=s.exited.length;r<i;r++)o=s.exited[r].handler,delete o.context,H(o,"reset",!0,n),H(o,"exit",n);var a=e.oldState=e.state;e.state=t;var l=e.currentHandlerInfos=s.unchanged.slice();try{for(r=0,i=s.reset.length;r<i;r++)o=s.reset[r].handler,H(o,"reset",!1,n);for(r=0,i=s.updatedContext.length;r<i;r++)d(l,s.updatedContext[r],!1,n);for(r=0,i=s.entered.length;r<i;r++)d(l,s.entered[r],!0,n)}catch(t){throw e.state=a,e.currentHandlerInfos=a.handlerInfos,t}e.state.queryParams=_(e,l,t.queryParams,n)}function d(e,t,n,r){function i(i){if(n&&H(i,"enter",r),r&&r.isAborted)throw new U;if(i.context=s,H(i,"contextDidChange"),H(i,"setup",s,r),r&&r.isAborted)throw new U;e.push(t)}var o=t.handler,s=t.context;return o?i(o):t.handlerPromise=t.handlerPromise.then(i),!0}function p(e,t){var n,r,i,o=e.handlerInfos,s=t.handlerInfos,a={updatedContext:[],exited:[],entered:[],unchanged:[],reset:void 0},l=!1;for(r=0,i=s.length;r<i;r++){var u=o[r],h=s[r];u&&u.handler===h.handler||(n=!0),n?(a.entered.push(h),u&&a.exited.unshift(u)):l||u.context!==h.context?(l=!0,a.updatedContext.push(h)):a.unchanged.push(u)}for(r=s.length,i=o.length;r<i;r++)a.exited.unshift(o[r]);return a.reset=a.updatedContext.slice(),a.reset.reverse(),a}function v(e,t){var n=e.urlMethod;if(n){for(var r=e.router,i=t.handlerInfos,o=i[i.length-1].name,s={},a=i.length-1;a>=0;--a){var l=i[a];I(s,l.params),l.handler.inaccessibleByURL&&(n=null)}if(n){s.queryParams=e._visibleQueryParams||t.queryParams;var u=r.recognizer.generate(o,s),h=e.isCausedByInitialTransition,c="replace"===n&&!e.isCausedByAbortingTransition,f=e.queryParamsOnly&&"replace"===n;h||c||f?r.replaceURL(u):r.updateURL(u)}}}function m(e,t){try{S(e.router,e.sequence,"Resolved all models on destination route; finalizing transition.");var n=e.router,r=t.handlerInfos;return f(n,t,e),e.isAborted?(n.state.handlerInfos=n.currentHandlerInfos,A.reject(k(e))):(v(e,t,e.intent.url),e.isActive=!1,n.activeTransition=null,E(n,n.currentHandlerInfos,!0,["didTransition"]),n.didTransition&&n.didTransition(n.currentHandlerInfos),S(n,e.sequence,"TRANSITION COMPLETE."),r[r.length-1].handler)}catch(t){if(!(t instanceof U)){var i=e.state.handlerInfos;e.trigger(!0,"error",t,e,i[i.length-1].handler),e.abort()}throw t}}function g(e,t,n){var r=t[0]||"/",i=t[t.length-1],o={};i&&i.hasOwnProperty("queryParams")&&(o=N.call(t).queryParams);var s;if(0===t.length){S(e,"Updating query params");var a=e.state.handlerInfos;s=new q({name:a[a.length-1].name,contexts:[],queryParams:o})}else"/"===r.charAt(0)?(S(e,"Attempting URL transition to "+r),s=new M({url:r})):(S(e,"Attempting transition to "+r),s=new q({name:t[0],contexts:T.call(t,1),queryParams:o}));return e.transitionByIntent(s,n)}function y(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;++n)if(e[n]!==t[n])return!1;return!0}function w(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;++n){if(e[n].name!==t[n].name)return!1;if(!b(e[n].params,t[n].params))return!1}return!0}function b(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,o=n.length;i<o;++i){var s=n[i];if(e[s]!==t[s])return!1}return!0}function _(e,t,n,r){for(var i in n)n.hasOwnProperty(i)&&null===n[i]&&delete n[i];var o=[];E(e,t,!0,["finalizeQueryParamChange",n,o,r]),r&&(r._visibleQueryParams={});for(var s={},a=0,l=o.length;a<l;++a){var u=o[a];s[u.key]=u.value,r&&!1!==u.visible&&(r._visibleQueryParams[u.key]=u.value)}return s}function P(e,t,n){var r,i,o,s,a,l=e.state.handlerInfos,u=[],h=null;for(o=l.length,i=0;i<o;i++){if(s=l[i],!(a=t.handlerInfos[i])||s.name!==a.name){h=i;break}a.isResolved||u.push(s)}null!==h&&(r=l.slice(h,o)),E(e,l,!0,["willTransition",n]),e.willTransition&&e.willTransition(l,t.handlerInfos,n)}var x=e.default,A=t.Promise,E=n.trigger,S=n.log,T=n.slice,O=n.forEach,I=n.merge,R=n.extractQueryParams,C=n.getChangelist,j=n.promiseLabel,H=n.callHook,L=r.default,k=i.logAbort,z=i.Transition,U=o.default,q=s.default,M=a.default,N=Array.prototype.pop;u.prototype={map:function(e){this.recognizer.delegate=this.delegate,this.recognizer.map(e,function(e,t){for(var n=t.length-1,r=!0;n>=0&&r;--n){var i=t[n];e.add(t,{as:i.handler}),r="/"===i.path||""===i.path||".index"===i.handler.slice(-6)}})},hasRoute:function(e){return this.recognizer.hasRoute(e)},getHandler:function(){},getSerializer:function(){},queryParamsTransition:function(e,t,n,r){var i=this;if(c(this,r,e),!t&&this.activeTransition)return this.activeTransition;var o=new z(this);return o.queryParamsOnly=!0,n.queryParams=_(this,r.handlerInfos,r.queryParams,o),o.promise=o.promise.then(function(e){return v(o,n,!0),i.didTransition&&i.didTransition(i.currentHandlerInfos),e},null,j("Transition complete")),o},transitionByIntent:function(e){try{return h.apply(this,arguments)}catch(t){return new z(this,e,null,t)}},reset:function(){this.state&&O(this.state.handlerInfos.slice().reverse(),function(e){var t=e.handler;H(t,"exit")}),this.oldState=void 0,this.state=new L,this.currentHandlerInfos=null},activeTransition:null,handleURL:function(e){var t=T.call(arguments);return"/"!==e.charAt(0)&&(t[0]="/"+e),g(this,t).method(null)},updateURL:function(){throw new Error("updateURL is not implemented")},replaceURL:function(e){this.updateURL(e)},transitionTo:function(){return g(this,arguments)},intermediateTransitionTo:function(){return g(this,arguments,!0)},refresh:function(e){for(var t=this.activeTransition,n=t?t.state:this.state,r=n.handlerInfos,i={},o=0,s=r.length;o<s;++o){var a=r[o];i[a.name]=a.params||{}}S(this,"Starting a refresh transition");var l=new q({name:r[r.length-1].name,pivotHandler:e||r[0].handler,contexts:[],queryParams:this._changedQueryParams||n.queryParams||{}}),u=this.transitionByIntent(l,!1);return t&&"replace"===t.urlMethod&&u.method(t.urlMethod),u},replaceWith:function(){return g(this,arguments).method("replace")},generate:function(e){for(var t=R(T.call(arguments,1)),n=t[0],r=t[1],i=new q({name:e,contexts:n}),o=i.applyToState(this.state,this.recognizer,this.getHandler,null,this.getSerializer),s={},a=0,l=o.handlerInfos.length;a<l;++a){var u=o.handlerInfos[a],h=u.serialize();I(s,h)}return s.queryParams=r,this.recognizer.generate(e,s)},applyIntent:function(e,t){var n=new q({name:e,contexts:t}),r=this.activeTransition&&this.activeTransition.state||this.state;return n.applyToState(r,this.recognizer,this.getHandler,null,this.getSerializer)},isActiveIntent:function(e,t,n,r){var i,o,s=r||this.state,a=s.handlerInfos;if(!a.length)return!1;var l=a[a.length-1].name,u=this.recognizer.handlersFor(l),h=0;for(o=u.length;h<o&&(i=a[h],i.name!==e);++h);if(h===u.length)return!1;var c=new L;c.handlerInfos=a.slice(0,h+1),u=u.slice(0,h+1);var f=new q({name:l,contexts:t}),d=f.applyToHandlers(c,u,this.getHandler,l,!0,!0,this.getSerializer),p=y(d.handlerInfos,c.handlerInfos);if(!n||!p)return p;var v={};I(v,n);var m=s.queryParams;for(var g in m)m.hasOwnProperty(g)&&v.hasOwnProperty(g)&&(v[g]=m[g]);return p&&!C(v,n)},isActive:function(e){var t=R(T.call(arguments,1));return this.isActiveIntent(e,t[0],t[1])},trigger:function(){var e=T.call(arguments);E(this,this.currentHandlerInfos,!1,e)},log:null},l.default=u}),r("router/transition-aborted-error",["./utils","exports"],function(e,t){"use strict";function n(e){if(!(this instanceof n))return new n(e);var t=Error.call(this,e);Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=t.stack,this.description=t.description,this.fileName=t.fileName,this.lineNumber=t.lineNumber,this.message=t.message||"TransitionAborted",this.name="TransitionAborted",this.number=t.number,this.code=t.code}var r=e.oCreate;n.prototype=r(Error.prototype),t.default=n}),r("router/transition-intent",["exports"],function(e){"use strict";function t(e){this.initialize(e),this.data=this.data||{}}t.prototype={initialize:null,applyToState:null},e.default=t}),r("router/transition-intent/named-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(e,t,n,r,i){"use strict";var o=e.default,s=t.default,a=n.default,l=r.isParam,u=r.extractQueryParams,h=r.merge,c=r.subclass;i.default=c(o,{name:null,pivotHandler:null,contexts:null,queryParams:null,initialize:function(e){this.name=e.name,this.pivotHandler=e.pivotHandler,this.contexts=e.contexts||[],this.queryParams=e.queryParams},applyToState:function(e,t,n,r,i){var o=u([this.name].concat(this.contexts)),s=o[0],a=t.handlersFor(s[0]),l=a[a.length-1].handler;return this.applyToHandlers(e,a,n,l,r,null,i)},applyToHandlers:function(e,t,n,r,i,o,a){var l,u,c=new s,f=this.contexts.slice(0),d=t.length;if(this.pivotHandler)for(l=0,u=t.length;l<u;++l)if(t[l].handler===this.pivotHandler._handlerName){d=l;break}for(l=t.length-1;l>=0;--l){var p=t[l],v=p.handler,m=e.handlerInfos[l],g=null;if(p.names.length>0)if(l>=d)g=this.createParamHandlerInfo(v,n,p.names,f,m);else{var y=a(v);g=this.getHandlerInfoForDynamicSegment(v,n,p.names,f,m,r,l,y)}else g=this.createParamHandlerInfo(v,n,p.names,f,m);if(o){g=g.becomeResolved(null,g.context);var w=m&&m.context;p.names.length>0&&g.context===w&&(g.params=m&&m.params),g.context=w}var b=m;(l>=d||g.shouldSupercede(m))&&(d=Math.min(l,d),b=g),i&&!o&&(b=b.becomeResolved(null,b.context)),c.handlerInfos.unshift(b)}if(f.length>0)throw new Error("More context objects were passed than there are dynamic segments for the route: "+r);return i||this.invalidateChildren(c.handlerInfos,d),h(c.queryParams,this.queryParams||{}),c},invalidateChildren:function(e,t){for(var n=t,r=e.length;n<r;++n){var i=e[n];e[n]=i.getUnresolved()}},getHandlerInfoForDynamicSegment:function(e,t,n,r,i,o,s,u){var h;if(r.length>0){if(h=r[r.length-1],l(h))return this.createParamHandlerInfo(e,t,n,r,i);r.pop()}else{if(i&&i.name===e)return i;if(!this.preTransitionState)return i;var c=this.preTransitionState.handlerInfos[s];h=c&&c.context}return a("object",{name:e,getHandler:t,serializer:u,context:h,names:n})},createParamHandlerInfo:function(e,t,n,r,i){for(var o={},s=n.length;s--;){var u=i&&e===i.name&&i.params||{},h=r[r.length-1],c=n[s];if(l(h))o[c]=""+r.pop();else{if(!u.hasOwnProperty(c))throw new Error("You didn't provide enough string/numeric parameters to satisfy all of the dynamic segments for route "+e);o[c]=u[c]}}return a("param",{name:e,getHandler:t,params:o})}})}),r("router/transition-intent/url-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","../unrecognized-url-error","exports"],function(e,t,n,r,i,o){"use strict";var s=e.default,a=t.default,l=n.default,u=r.merge,h=r.subclass,c=i.default;o.default=h(s,{url:null,initialize:function(e){this.url=e.url},applyToState:function(e,t,n){function r(e){if(e&&e.inaccessibleByURL)throw new c(d);return e}var i,o,s=new a,h=t.recognize(this.url);if(!h)throw new c(this.url);var f=!1,d=this.url;for(i=0,o=h.length;i<o;++i){var p=h[i],v=p.handler,m=l("param",{name:v,getHandler:n,params:p.params}),g=m.handler;g?r(g):m.handlerPromise=m.handlerPromise.then(r);var y=e.handlerInfos[i];f||m.shouldSupercede(y)?(f=!0,s.handlerInfos[i]=m):s.handlerInfos[i]=y}return u(s.queryParams,h.queryParams),s}})}),r("router/transition-state",["./utils","rsvp","exports"],function(e,t,n){"use strict";function r(){this.handlerInfos=[],this.queryParams={},this.params={}}var i=e.forEach,o=e.promiseLabel,s=e.callHook,a=t.Promise;r.prototype={promiseLabel:function(e){var t="";return i(this.handlerInfos,function(e){""!==t&&(t+="."),t+=e.name}),o("'"+t+"': "+e)},resolve:function(e,t){function n(){return a.resolve(e(),h.promiseLabel("Check if should continue")).catch(function(e){return c=!0,a.reject(e)},h.promiseLabel("Handle abort"))}function r(e){var n=h.handlerInfos,r=t.resolveIndex>=n.length?n.length-1:t.resolveIndex;return a.reject({error:e,handlerWithError:h.handlerInfos[r].handler,wasAborted:c,state:h})}function o(e){var r=h.handlerInfos[t.resolveIndex].isResolved;if(h.handlerInfos[t.resolveIndex++]=e,!r){var i=e.handler;s(i,"redirect",e.context,t)}return n().then(l,null,h.promiseLabel("Resolve handler"))}function l(){return t.resolveIndex===h.handlerInfos.length?{error:null,state:h}:h.handlerInfos[t.resolveIndex].resolve(n,t).then(o,null,h.promiseLabel("Proceed"))}var u=this.params;i(this.handlerInfos,function(e){u[e.name]=e.params||{}}),t=t||{},t.resolveIndex=0;var h=this,c=!1;return a.resolve(null,this.promiseLabel("Start transition")).then(l,null,this.promiseLabel("Resolve handler")).catch(r,this.promiseLabel("Handle error"))}},n.default=r}),r("router/transition",["rsvp","./utils","./transition-aborted-error","exports"],function(e,t,n,r){"use strict";function i(e,t,n,r,i){function s(){if(l.isAborted)return a.reject(void 0,c("Transition aborted - reject"))}var l=this;if(this.state=n||e.state,this.intent=t,this.router=e,this.data=this.intent&&this.intent.data||{},this.resolvedModels={},this.queryParams={},this.promise=void 0,this.error=void 0,this.params=void 0,this.handlerInfos=void 0,this.targetName=void 0,this.pivotHandler=void 0,this.sequence=void 0,this.isAborted=!1,this.isActive=!0,r)return this.promise=a.reject(r),void(this.error=r);if(this.isCausedByAbortingTransition=!!i,this.isCausedByInitialTransition=i&&(i.isCausedByInitialTransition||0===i.sequence),n){this.params=n.params,this.queryParams=n.queryParams,this.handlerInfos=n.handlerInfos;var u=n.handlerInfos.length;u&&(this.targetName=n.handlerInfos[u-1].name);for(var h=0;h<u;++h){var f=n.handlerInfos[h];if(!f.isResolved)break;this.pivotHandler=f.handler}this.sequence=e.currentSequence++,this.promise=n.resolve(s,this).catch(o(l),c("Handle Abort"))}else this.promise=a.resolve(this.state),this.params={}}function o(e){return function(t){return t.wasAborted||e.isAborted?a.reject(s(e)):(e.trigger("error",t.error,e,t.handlerWithError),e.abort(),a.reject(t.error))}}function s(e){return h(e.router,e.sequence,"detected abort."),new f}var a=e.Promise,l=t.trigger,u=t.slice,h=t.log,c=t.promiseLabel,f=n.default;i.prototype={targetName:null,urlMethod:"update",intent:null,pivotHandler:null,resolveIndex:0,resolvedModels:null,state:null,queryParamsOnly:!1,isTransition:!0,isExiting:function(e){for(var t=this.handlerInfos,n=0,r=t.length;n<r;++n){var i=t[n];if(i.name===e||i.handler===e)return!1}return!0},promise:null,data:null,then:function(e,t,n){return this.promise.then(e,t,n)},catch:function(e,t){return this.promise.catch(e,t)},finally:function(e,t){return this.promise.finally(e,t)},abort:function(){return this.isAborted?this:(h(this.router,this.sequence,this.targetName+": transition was aborted"),this.intent.preTransitionState=this.router.state,this.isAborted=!0,this.isActive=!1,this.router.activeTransition=null,this)},retry:function(){this.abort();var e=this.router.transitionByIntent(this.intent,!1);return null!==this.urlMethod&&e.method(this.urlMethod),e},method:function(e){return this.urlMethod=e,this},trigger:function(e){var t=u.call(arguments);"boolean"==typeof e?t.shift():e=!1,l(this.router,this.state.handlerInfos.slice(0,this.resolveIndex+1),e,t)},followRedirects:function(){var e=this.router;return this.promise.catch(function(t){return e.activeTransition?e.activeTransition.followRedirects():a.reject(t)})},toString:function(){return"Transition (sequence "+this.sequence+")"},log:function(e){h(this.router,this.sequence,e)}},i.prototype.send=i.prototype.trigger,r.Transition=i,r.logAbort=s,r.TransitionAbortedError=f}),r("router/unrecognized-url-error",["./utils","exports"],function(e,t){"use strict";function n(e){if(!(this instanceof n))return new n(e);var t=Error.call(this,e);Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=t.stack,this.description=t.description,this.fileName=t.fileName,this.lineNumber=t.lineNumber,this.message=t.message||"UnrecognizedURL",this.name="UnrecognizedURLError",this.number=t.number,this.code=t.code}var r=e.oCreate;n.prototype=r(Error.prototype),t.default=n}),r("router/utils",["exports"],function(e){"use strict";function t(e){return("object"==typeof e&&null!==e||"function"==typeof e)&&"function"==typeof e.then}function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function r(e){var t,n,r=e&&e.length;return r&&r>0&&e[r-1]&&e[r-1].hasOwnProperty("queryParams")?(n=e[r-1].queryParams,t=g.call(e,0,r-1),[t,n]):[e,null]}function i(e){for(var t in e)if("number"==typeof e[t])e[t]=""+e[t];else if(y(e[t]))for(var n=0,r=e[t].length;n<r;n++)e[t][n]=""+e[t][n]}function o(e,t,n){e.log&&(3===arguments.length?e.log("Transition #"+t+": "+n):(n=t,e.log(n)))}function s(e,t){var n=arguments;return function(r){var i=g.call(n,2);return i.push(r),t.apply(e,i)}}function a(e){return"string"==typeof e||e instanceof String||"number"==typeof e||e instanceof Number}function l(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n]);n++);}function u(e,t,n,r){function i(e,t,n){n.events[e].apply(n,t)}if(e.triggerEvent)return void e.triggerEvent(t,n,r);var o=r.shift();if(!t){if(n)return;throw new Error("Could not trigger event '"+o+"'. There are no active handlers")}for(var a=!1,l=t.length-1;l>=0;l--){var u=t[l],h=u.handler;if(h){if(h.events&&h.events[o]){if(!0!==h.events[o].apply(h,r))return;a=!0}}else u.handlerPromise.then(s(null,i,o,r))}if("error"===o&&"UnrecognizedURLError"===r[0].name)throw r[0];if(!a&&!n)throw new Error("Nothing handled the event '"+o+"'.")}function h(e,t){var r,o={all:{},changed:{},removed:{}};n(o.all,t);var s=!1;i(e),i(t);for(r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)||(s=!0,o.removed[r]=e[r]));for(r in t)if(t.hasOwnProperty(r))if(y(e[r])&&y(t[r]))if(e[r].length!==t[r].length)o.changed[r]=t[r],s=!0;else for(var a=0,l=e[r].length;a<l;a++)e[r][a]!==t[r][a]&&(o.changed[r]=t[r],s=!0);else e[r]!==t[r]&&(o.changed[r]=t[r],s=!0);return s&&o}function c(e){return"Router: "+e}function f(e,t){function r(t){e.call(this,t||{})}return r.prototype=w(e.prototype),n(r.prototype,t),r}function d(e,t){if(e){var n="_"+t;return e[n]&&n||e[t]&&t}}function p(e,t,n,r){var i=d(e,t);return i&&e[i].call(e,n,r)}function v(e,t,n){var r=d(e,t);if(r)return 0===n.length?e[r].call(e):1===n.length?e[r].call(e,n[0]):2===n.length?e[r].call(e,n[0],n[1]):e[r].apply(e,n)}var m,g=Array.prototype.slice;m=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var y=m;e.isArray=y,e.isPromise=t;var w=Object.create||function(e){function t(){}return t.prototype=e,new t};e.oCreate=w,e.extractQueryParams=r,e.log=o,e.bind=s,e.forEach=l,e.trigger=u,e.getChangelist=h,e.promiseLabel=c,e.subclass=f,e.merge=n,e.slice=g,e.isParam=a,e.coerceQueryParamsToString=i,e.callHook=p,e.resolveHook=d,e.applyHook=v}),r("router",["./router/router","./router/transition","exports"],function(e,t,n){"use strict";var r=e.default,i=t.Transition;n.default=r,n.Transition=i}),r("route-recognizer",[],function(){return{default:n}}),r("rsvp",[],function(){return t}),r("rsvp/promise",[],function(){return{default:t.Promise}}),window.Router=i("router")}(window,window.RSVP,window.RouteRecognizer),function(){var e=function(e){return function(t){function n(e){return String(e||"").replace(/\W/g,"\\$&")}function r(e){if(!e)return"";var t=new RegExp("^"+n(d.prependHash)+"|"+n(d.appendHash)+"$","g");return e.replace(t,"")}function i(){var e=_.exec(d.getURL()),t=e&&e[1]||"";try{return d.raw?t:decodeURIComponent(t)}catch(e){return t}}function o(){return g?g.contentWindow.frameHash:null}function s(){g=w.createElement("iframe"),g.src="about:blank",g.style.display="none",w.body.appendChild(g)}function a(){if(g&&p!==o()){var e=g.contentWindow.document;e.open(),e.write("<html><head><title>"+w.title+'</title><script type="text/javascript">var frameHash="'+p+'";<\/script></head><body>&nbsp;</body></html>'),e.close()}}function l(e,t){if(p!==e){var n=p;p=e,S&&(t?g.contentWindow.frameHash=e:a()),d.changed.dispatch(r(e),r(n))}}function u(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function h(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function c(e){e=Array.prototype.slice.call(arguments);var t=e.join(d.separator);return t=t?d.prependHash+t.replace(x,"")+d.appendHash:t}function f(e){return e=encodeURI(e),A&&T&&(e=e.replace(/\?/,"%3F")),e}var d,p,v,m,g,y,w=t.document,b=(t.history,e.Signal),_=/#(.*)$/,P=/(\?.*)|(\#.*)/,x=/^\#/,A=!1,E="onhashchange"in t&&7!==w.documentMode,S=A&&!E,T="file:"===location.protocol;return y=S?function(){var e=i(),t=o();t!==p&&t!==e?d.setHash(r(t)):e!==p&&l(e)}:function(){var e=i();e!==p&&l(e)},d={VERSION:"1.2.0",raw:!1,appendHash:"",prependHash:"/",separator:"/",changed:new b,stopped:new b,initialized:new b,init:function(){m||(p=i(),E?u(t,"hashchange",y):(S&&(g||s(),a()),v=setInterval(y,25)),m=!0,d.initialized.dispatch(r(p)))},stop:function(){m&&(E?h(t,"hashchange",y):(clearInterval(v),v=null),m=!1,d.stopped.dispatch(r(p)))},isActive:function(){return m},getURL:function(){return t.location.href},getBaseURL:function(){return d.getURL().replace(P,"")},setHash:function(e){(e=c.apply(null,arguments))!==p&&(l(e),e===p&&(d.raw||(e=f(e)),t.location.hash="#"+e))},replaceHash:function(e){(e=c.apply(null,arguments))!==p&&(l(e,!0),e===p&&(d.raw||(e=f(e)),t.location.replace("#"+e)))},getHash:function(){return r(p)},getHashAsArray:function(){return d.getHash().split(d.separator)},dispose:function(){d.stop(),d.initialized.dispose(),d.stopped.dispose(),d.changed.dispose(),g=d=t.hasher=null},toString:function(){return'[hasher version="'+d.VERSION+'" hash="'+d.getHash()+'"]'}},d.initialized.memorize=!0,d}(window)};"function"==typeof define&&define.amd?define(["signals"],e):"object"==typeof exports?module.exports=e(require("signals")):window.hasher=e(window.signals)}();var AppRouter=function(){function e(e,i){x={};var o=r(A,e.toLowerCase().split("/"));n(c)?c(e.toLowerCase(),o).then(function(n){n&&t(e,i)}):t(e,i)}function t(e,t){v.handleURL(e.toLowerCase()),w=e,-1==e.toLowerCase().indexOf(t?t.toLowerCase():t)&&(S=!0)}function n(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function r(e,t){var n="";for(var i in e)"options"!=i&&void 0!==e[i].options&&e[i].options.url.toLowerCase().substring(1)==t[0]&&(t.length>1?(t=t.splice(1,1),n=r(e[i],t)):n={state:e[i].options.state,params:e[i].options.params});if(""!==n)return n}function i(e,t,n){if(1==t.length)void 0==e[t[0]]&&(e[t[0]]=[]),n.state=t[0],e[t[0]].options=n;else{var r=t.slice(0,1);void 0==e[r]&&(e[r]=[]),t.splice(0,1),i(e[r],t,n)}}function o(e,t,n,r){if(void 0==(e=e[t[0]]))return void console.error("Invalid state.");if(n+=e.options.url,1==t.length){for(var i in r)r.hasOwnProperty(i)&&(n=n.replace(":"+i,r[i]));window.location.hash=n}else t=t.splice(1),o(e,t,n,r)}function s(){v.map(function(e){e("/").to("defaultState");for(var t in A)a(e,A[t],t,0);e("/*").to("notFound")})}function a(e,t,n,r){1==Object.keys(t).length?(e(t.options.url.toLowerCase()+"/").to(n),e(t.options.url.toLowerCase()).to(n),e("/*").to("notFound")):(e(t.options.url.toLowerCase()+"/").to(n),e(t.options.url.toLowerCase()).to(n,function(e){for(var n in t)"options"!=n&&a(e,t[n],n,r+1)})),l(n,t.options,r)}function l(e,t,r){E[e]={model:function(){var e=t.viewUrl,n=window.location.hash.split("/"),r=t.url.split("/");return $.each(r,function(t,r){r.indexOf(":")>=0&&(e=e.replace(r,n[t]))}),$.get(e).fail(y)},setup:function(e){currentLevel=r,t=$.extend(!0,t,_);var i=AppRouter.getStateParams();p={title:t.title,state:t.state,params:t.params,controller:t.Controller};var o=$("body").find("[content-view]");o=$(o[r]),i&&i.controller&&"function"==typeof window[i.controller].destroy&&window[i.controller].destroy(),o.find("*").off(),void 0!=t.dependencies.css&&u(t.dependencies),o.html(e),n(d)&&d(),"function"==typeof window[t.Controller].init?window[t.Controller].init():console.warn("Controller init function not set."),o.attr("animated")&&o.animateCss("fadeInUp"),n(f)&&f(w)}}}function u(e){$.post("/admin/cacheBuster",{files:e},function(t){h(t,e.options)})}function h(e,t){if(S&&($(g).nextUntil(m).remove(),S=!1),void 0==t||void 0==t.insertAfter||void 0==t.insertBefore)return void console.error("insertAfter and insertBefore must be set.");m=t.insertAfter,g=t.insertBefore,$.each(e,function(e,t){var n,r=t.time?"?v="+t.time:"";n=document.createElement("link"),n.rel="stylesheet",n.href=t.url+r,$(m).before(n)})}var c,f,d,p,v,m,g,y,w,b={name:"",author:"",year:"",url:""},_={},P="",x={},A=[],E={},S=!1;return{setApp:function(e){return b=e,this},setDefaultOptions:function(e){return _=e,this},getDefaultOptions:function(){return _},setDefaultState:function(e){return E.defaultState={beforeModel:function(){throw""},events:{error:function(t,n){AppRouter.goToState(e)}}},this},setBeforeChange:function(e){return c=e,this},setAfterChange:function(e){return f=e,this},setOnChange:function(e){return d=e,this},setStateExtras:function(e){x=e},getStateExtras:function(){return x},setNotFound:function(e){return E.notFound={setup:function(t){$.get(e.viewUrl,function(t){var n=$("body").find("[content-view]").last();n.find("*").off(),n.html(t),"function"==typeof window[e.Controller].init?window[e.Controller].init():console.warn("Controller init function not set."),n.attr("animated")&&n.animateCss("fadeInUp"),void 0!=e.dependencies.css&&u(e.dependencies),Common.unBlockPage()}).fail(y)}},this},state:function(e,t){var n=e.split(".");return i(A,n,t),this},goToState:function(e,t){if("notFound"!=e){var n=e.split(".");o(A,n,"#",t)}else v.transitionTo(e)},getApp:function(){return b},getStateParams:function(){return p},getSessionData:function(){return P},setSessionData:function(e){P=e},setHandleViewError:function(e){return y=e,this},init:function(){v=new Router.default,v.getHandler=function(e){return E[e]},s(),hasher.changed.add(e),hasher.initialized.add(e),hasher.init()}}}();$(document).ready(function(){AppRouter.setDefaultOptions({dependencies:{options:{insertAfter:"#plugins_after",insertBefore:"#plugins_before"}}}).setHandleViewError(function(){$.get("/admin/checksession").done(function(e){e.auth||(window.location="/")}).fail(function(){window.location="/"})}).setNotFound({viewUrl:"/admin/notfound"}).setBeforeChange(function(){Common.blockPage();var e=$.Deferred();return Common.destroyPortlets(),$("body").removeClass("hide"),e.resolve(!0),e}).setAfterChange(function(e){Common.handleChanges(e),Common.activeMenu(),Common.unBlockPage()}).setOnChange(function(){Common.initPortlets()}).state("permission",{url:"/Permisos",title:"Permisos",viewUrl:"/admin/permission",Controller:"Permisos",dependencies:{css:["/css/permisos.css"]}}).state("role",{url:"/Roles",title:"Roles",viewUrl:"/admin/role",Controller:"Roles",dependencies:{css:["/css/roles.css"]}}).state("users",{url:"/Usuarios",title:"Usuarios",viewUrl:"/admin/user",Controller:"Users"}).state("dependency",{url:"/Dependencias",title:"Dependencias",viewUrl:"/admin/dependency",Controller:"Dependencies"}).state("department",{url:"/Departamentos",title:"Departamentos",viewUrl:"/admin/department",Controller:"Departments"})});
